<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>קריאת תווים – מפתח פה</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
</head>
<body>
  <main class="wrap">
    <header class="top">
      <div class="brand">
        <div class="logo">𝄢</div>
        <div>
          <h1>משחקון קריאת תווים</h1>
          <p class="sub">מפתח פה · ענה/י נכון כדי להתקדם</p>
        </div>
      </div>

      <div class="controls">
        <a class="btn btn-ghost" href="settings.html">הגדרות</a>
        <button id="endBtn" class="btn btn-ghost" type="button">סיים משחק</button>
      </div>
    </header>

    <section class="card">
      <div class="staffShell">
        <svg id="staff" viewBox="0 0 900 260" aria-label="חמשה במפתח פה עם תו" role="img">
          <defs>
            <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="6" stdDeviation="6" flood-opacity="0.18"/>
            </filter>
          </defs>

          <!-- רקע -->
          <rect x="0" y="0" width="900" height="260" rx="18" fill="transparent"/>

          <!-- חמשה -->
          <g stroke="var(--ink)" stroke-width="3" stroke-linecap="round">
            <line x1="90" y1="80"  x2="840" y2="80"/>
            <line x1="90" y1="105" x2="840" y2="105"/>
            <line x1="90" y1="130" x2="840" y2="130"/>
            <line x1="90" y1="155" x2="840" y2="155"/>
            <line x1="90" y1="180" x2="840" y2="180"/>
          </g>

          <!-- מפתח פה -->
          <text x="130" y="176" font-size="120" font-family="serif" fill="var(--ink)">𝄢</text>

          <!-- תו -->
          <g id="note" filter="url(#softShadow)">
            <g id="ledgers" stroke="var(--ink)" stroke-width="3" stroke-linecap="round"></g>
            <text id="acc" x="0" y="0" font-size="44" font-family="serif" fill="var(--ink)"></text>

            <ellipse id="noteHead" cx="620" cy="130" rx="18" ry="13" fill="var(--ink)"/>
            <line id="stem" x1="638" y1="130" x2="638" y2="52" stroke="var(--ink)" stroke-width="5" stroke-linecap="round"/>
          </g>

          <!-- שכבת “פלאש” עדין בהצלחה -->
          <rect id="successFlash" x="0" y="0" width="900" height="260" rx="18" fill="transparent"/>
        </svg>
      </div>

      <div class="qa">
        <label class="label" for="answer">מה שם התו?</label>

        <div class="row">
          <input
            id="answer"
            class="input"
            placeholder="למשל: סי · רה · פה · מי במול · דו דיאז"
            inputmode="text"
            autocomplete="off"
            autocapitalize="off"
            spellcheck="false"
          />
          <button id="playBtn" class="btn btn-ghost" type="button" title="נגן את התו הנוכחי">נגן תו</button>
          <button id="checkBtn" class="btn btn-primary" type="button">בדוק</button>
          <button id="skipBtn" class="btn btn-ghost" type="button" title="רק אם רוצים להחליף בלי לענות (ייספר כוויתור)">דלג</button>
        </div>

        <div id="msg" class="msg" aria-live="polite"></div>

        <div class="meta">
          <div class="pill">נענו: <span id="answeredCount">0</span></div>
          <div class="pill">טעויות: <span id="wrongCount">0</span></div>
          <div class="pill timer hidden" id="timerPill">זמן: <span id="timerValue">0.0</span> שנ׳</div>
        </div>

        <p class="hint">
          טיפ: אפשר לכתוב גם בלי ניקוד. נתמך: “במול / ♭”, “דיאז / #”.
        </p>
      </div>
    </section>
  </main>

  <script src="game.js"></script>
</body>
</html>
